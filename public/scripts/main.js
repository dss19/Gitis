"use strict";function stickyBlocks(){var s=$(".sticky-block").filter(function(){return!$(this).find(".news-filter").length}),d=30;$(window).on("resize scroll touchmove",function(){s.each(function(){$(this).data("orig-width",$(this).outerWidth()),$(this).closest(".sticky-wrapper").css({minHeight:$(this).outerHeight()}),$(this).closest(".sticky-wrapper").css({minHeight:$(this).outerHeight()});var s=0;if(s=$(".program-nav").length&&$(".program-nav").hasClass("fixed")?$(".program-nav").outerHeight():0,$("header").hasClass("fixed"))var e=$("header").outerHeight()+s;else e=0+s;var i=$(this),o=$(this).outerHeight(),t=$(this).closest(".sticky-wrapper"),r=t.outerHeight(),a=$(window).scrollTop();if(i.hasClass("calendar")&&(d=0),i.hasClass("troupe-pic")){l=a>t.offset().top,c=!0;n=d=0}else var l=a>t.offset().top-e-d,c=o<$(window).height()-2*d-e&&o<r,n=e+d;l&&c?(i.addClass("fixed").css({top:n,width:i.data("orig-width")}),a>t.offset().top+r-o-e-d?i.css({marginTop:t.offset().top+r-o-e-d-a}):i.css({marginTop:0})):i.removeClass("fixed").css({width:"auto",marginTop:0})}),$(".program-nav").each(function(){if($(this).data("orig-width",$(this).outerWidth()),$(this).closest(".page-wrapper").css({minHeight:$(this).outerHeight()}),$("header").hasClass("header-fixed"))var s=$("header").outerHeight();else s=0;var e=$(this),i=$(this).outerHeight(),o=$(this).closest(".page-wrapper"),t=o.outerHeight(),r=$(window).scrollTop();r>o.offset().top-s-0&&i<$(window).height()-0-s&&i<t?($(".program-nav-wrapper").css({paddingTop:e.outerHeight()}),e.addClass("fixed").css({top:s+0,width:e.data("orig-width")}),r>o.offset().top+t-i-s-0?e.css({marginTop:o.offset().top+t-i-s-0-r}):e.css({marginTop:0})):($(".program-nav-wrapper").css({paddingTop:0}),e.removeClass("fixed").css({width:"auto"}))})})}$(document).ready(function(){stickyBlocks(),$(window).on("scroll touchmove resize",function(){var s,e,i;s=$(window).scrollTop(),e=$(".banner-img").outerHeight(),i=$(".header").outerHeight(),e+i<s?$(".header").hasClass("fixed")||($("main").css({marginTop:$("header").outerHeight()}),$(".header").addClass("fixed")):$(".header").hasClass("fixed")&&($("main").css({marginTop:0}),$(".header").removeClass("fixed"))}),$(".header-mobile-humb").click(function(){$(".mobile-menu").addClass("active")}),$(".mobile-menu-close").click(function(){$(".mobile-menu").removeClass("active")}),$(".mobile-menu").click(function(s){$(".mobile-menu-wrap").is(s.target)||$(".mobile-menu").removeClass("active")}),$(".main-slider-top").slick({slidesToShow:1,slidesToScroll:1,rows:0}),$(".main-slider-partners").slick({slidesToShow:6,slidesToScroll:6,rows:0,responsive:[{breakpoint:1440,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:992,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3,arrows:!1,dots:!0}},{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,dots:!0}}]}),$(".main-slider-bottom").slick({slidesToShow:2,slidesToScroll:2,rows:0}),$(".project-slider-top").slick({slidesToShow:1,slidesToScroll:1,rows:0}),$(".project-slider-bottom").slick({slidesToShow:2,slidesToScroll:2,rows:0,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0}}]}),$(".news-img-slider-top").slick({slidesToShow:1,slidesToScroll:1,rows:0}),$(".news-img-slider-bottom").slick({slidesToShow:2,slidesToScroll:2,rows:0,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0}}]}),$(".show-slider-top").slick({slidesToShow:1,slidesToScroll:1,rows:0}),$(".stage-slider-top").slick({slidesToShow:1,slidesToScroll:1,rows:0}),$(".filter-abc-item").click(function(){$(".filter-abc-item").removeClass("active"),$(this).addClass("active")}),$(".filter-img-item").click(function(){$(".filter-img-item").removeClass("active"),$(this).addClass("active")}),$(".filter-scene").click(function(){$(".filter-scene, .filter-scene-menu").toggleClass("active")}),ymaps.ready(function(){var s=new ymaps.Map("map-1",{center:[55.76343811803522,37.60576528406144],zoom:17}),e=new ymaps.Placemark([55.76343811803522,37.60576528406144],null,{iconLayout:"default#image",iconImageHref:"./images/images/pin.svg"});s.geoObjects.add(e),s.behaviors.disable("scrollZoom");var i=new ymaps.Map("map-2",{center:[55.67402156903472,37.542329499999994],zoom:17}),o=new ymaps.Placemark([55.67402156903472,37.542329499999994],null,{iconLayout:"default#image",iconImageHref:"./images/images/pin.svg"});i.geoObjects.add(o),i.behaviors.disable("scrollZoom")}),$(".stage-history-on-top-button").click(function(){$("html, body").animate({scrollTop:0},1e3)}),$(".svg-inline").each(function(){var i=jQuery(this),o=i.attr("id"),t=i.attr("class"),s=i.attr("src");jQuery.get(s,function(s){var e=jQuery(s).find("svg");void 0!==o&&(e=e.attr("id",o)),void 0!==t&&(e=e.attr("class",t+" replaced-svg")),e=e.removeAttr("xmlns:a"),i.replaceWith(e)},"xml")}),$(".main-billboard-list").each(function(){var s=$(this),e=$(this).clone(),i=$(this).clone(),o=$(this).find(".main-billboard-item").length;s.before(e),s.after(i),$(this).closest(".main-billboard-content").css({animationDuration:20*o+"s",width:3*s.outerWidth()})})});